"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[204],{6087:(s,e,r)=>{r.d(e,{Z:()=>d});var a=r(2791),n=r(7689),o=r(1087),i=r(6355),t=(r(7260),r(184));const d=()=>{const[s,e]=(0,a.useState)(!1),r=(0,n.s0)(),d=(0,n.TH)(),c=s=>d.pathname===s?"active":"",l=()=>{e(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{className:"doctor-toggle-btn",onClick:()=>{e(!s)},children:s?(0,t.jsx)(i.aHS,{}):(0,t.jsx)(i.Fm7,{})}),s&&(0,t.jsx)("div",{className:"sidebar-overlay",onClick:l,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999}}),(0,t.jsxs)("aside",{className:"doctor-sidebar ".concat(s?"active":""),children:[(0,t.jsxs)("div",{className:"sidebar-brand",children:[(0,t.jsx)(i.K7y,{})," MediCare Doctor"]}),(0,t.jsxs)("ul",{className:"sidebar-menu",children:[(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(o.rU,{to:"/",className:"sidebar-menu-link ".concat(c("/")),onClick:l,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.xng,{})}),(0,t.jsx)("span",{children:"Home"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(o.rU,{to:"/appointments",className:"sidebar-menu-link ".concat(c("/appointments")),onClick:l,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.XdU,{})}),(0,t.jsx)("span",{children:"Appointments"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(o.rU,{to:"/notifications",className:"sidebar-menu-link ".concat(c("/notifications")),onClick:l,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.Z3q,{})}),(0,t.jsx)("span",{children:"Notifications"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(o.rU,{to:"/profile",className:"sidebar-menu-link ".concat(c("/profile")),onClick:l,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.Xws,{})}),(0,t.jsx)("span",{children:"Profile"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(o.rU,{to:"/changepassword",className:"sidebar-menu-link ".concat(c("/changepassword")),onClick:l,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.kUi,{})}),(0,t.jsx)("span",{children:"Change Password"})]})})]}),(0,t.jsx)("div",{className:"sidebar-logout",children:(0,t.jsxs)("button",{className:"logout-btn",onClick:()=>{localStorage.removeItem("token"),r("/login")},children:[(0,t.jsx)(i.fHX,{})," Logout"]})})]})]})}},8204:(s,e,r)=>{r.r(e),r.d(e,{default:()=>h});var a=r(3063),n=r(2791),o=(r(7260),r(6087)),i=r(3263),t=r(5218),d=r(5318),c=r(9434),l=r(3200),p=r(4971),m=r(456),x=r(6355),u=r(184);i.Z.defaults.baseURL="http://localhost:5016/api";const h=function(){const{userId:s}=(0,m.Z)(localStorage.getItem("token")),e=(0,c.I0)(),{loading:r}=(0,c.v9)((s=>s.root)),[h,w]=(0,n.useState)(""),[j,f]=(0,n.useState)({password:"",newpassword:"",confnewpassword:""});(0,n.useEffect)((()=>{(async()=>{try{e((0,d.K4)(!0));const r=await(0,p.Z)("/user/getuser/".concat(s));w(r.pic),e((0,d.K4)(!1))}catch(r){e((0,d.K4)(!1)),console.error("Error fetching user data:",r),t.ZP.error("Failed to load user data")}})()}),[e]);const g=s=>{const{name:e,value:r}=s.target;f((0,a.Z)((0,a.Z)({},j),{},{[e]:r}))};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"doctor-layout",children:[(0,u.jsx)(o.Z,{}),r?(0,u.jsxs)("div",{className:"doctor-main",children:[(0,u.jsx)("div",{className:"doctor-header",children:(0,u.jsx)("div",{className:"header-title",children:"Loading..."})}),(0,u.jsx)("div",{className:"doctor-content",children:(0,u.jsx)(l.Z,{})})]}):(0,u.jsxs)("div",{className:"doctor-main",children:[(0,u.jsx)("div",{className:"doctor-header",children:(0,u.jsx)("div",{className:"header-title",children:"\ud83d\udd10 Change Password"})}),(0,u.jsx)("div",{className:"doctor-content",children:(0,u.jsxs)("div",{className:"data-section",style:{maxWidth:"600px"},children:[(0,u.jsx)("div",{className:"section-header",style:{marginBottom:"30px"},children:(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,u.jsx)("div",{style:{fontSize:"2rem",color:"var(--primary)"},children:(0,u.jsx)(x.bri,{})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"section-title",children:"Secure Your Account"}),(0,u.jsx)("div",{style:{fontSize:"0.9rem",color:"var(--text-light)",marginTop:"5px"},children:"Update your password to keep your account secure"})]})]})}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{password:r,newpassword:a,confnewpassword:n}=j;if(!r)return t.ZP.error("Current password is required");if(!a)return t.ZP.error("New password is required");if(a.length<5)return t.ZP.error("New password must be at least 5 characters long");if(a!==n)return t.ZP.error("New passwords do not match");try{await t.ZP.promise(i.Z.put("/user/changepassword",{userId:s,currentPassword:r,newPassword:a,confirmNewPassword:n},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),{pending:"Updating password...",success:"Password updated successfully",error:"Unable to update password"}),f({password:"",newpassword:"",confnewpassword:""})}catch(d){var o;console.error("Error updating password:",d),null!==(o=d.response)&&void 0!==o&&o.data&&t.ZP.error(d.response.data)}},children:[(0,u.jsxs)("div",{className:"filter-group",children:[(0,u.jsx)("label",{htmlFor:"password",children:"Current Password *"}),(0,u.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Enter your current password",value:j.password,onChange:g,required:!0})]}),(0,u.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[(0,u.jsxs)("div",{className:"filter-group",children:[(0,u.jsx)("label",{htmlFor:"newpassword",children:"New Password *"}),(0,u.jsx)("input",{type:"password",id:"newpassword",name:"newpassword",placeholder:"Enter your new password",value:j.newpassword,onChange:g,required:!0})]}),(0,u.jsxs)("div",{className:"filter-group",children:[(0,u.jsx)("label",{htmlFor:"confnewpassword",children:"Confirm Password *"}),(0,u.jsx)("input",{type:"password",id:"confnewpassword",name:"confnewpassword",placeholder:"Confirm your new password",value:j.confnewpassword,onChange:g,required:!0})]})]}),(0,u.jsxs)("div",{style:{marginBottom:"25px",padding:"15px",backgroundColor:"#f0f4f8",borderLeft:"4px solid var(--info)",borderRadius:"6px",fontSize:"0.9rem",color:"var(--text-dark)"},children:[(0,u.jsx)("strong",{children:"Password Requirements:"}),(0,u.jsxs)("ul",{style:{marginTop:"8px",marginLeft:"20px",lineHeight:"1.6"},children:[(0,u.jsx)("li",{children:"At least 5 characters long"}),(0,u.jsx)("li",{children:"Contains a mix of characters"}),(0,u.jsx)("li",{children:"Different from your current password"})]})]}),(0,u.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-start"},children:[(0,u.jsxs)("button",{type:"submit",className:"btn btn-primary",style:{flex:1},children:[(0,u.jsx)(x.kUi,{})," Update Password"]}),(0,u.jsx)("button",{type:"button",className:"btn",style:{background:"var(--border-color)",color:"var(--text-dark)",flex:1},onClick:()=>f({password:"",newpassword:"",confnewpassword:""}),children:"Reset"})]})]})]})})]})]})})}},7260:()=>{}}]);
//# sourceMappingURL=204.bb79cca3.chunk.js.map