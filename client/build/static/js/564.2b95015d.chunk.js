"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[564],{6087:(e,s,a)=>{a.d(s,{Z:()=>c});var l=a(2791),i=a(7689),n=a(1087),d=a(6355),r=(a(7260),a(184));const c=()=>{const[e,s]=(0,l.useState)(!1),a=(0,i.s0)(),c=(0,i.TH)(),t=e=>c.pathname===e?"active":"",o=()=>{s(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"doctor-toggle-btn",onClick:()=>{s(!e)},children:e?(0,r.jsx)(d.aHS,{}):(0,r.jsx)(d.Fm7,{})}),e&&(0,r.jsx)("div",{className:"sidebar-overlay",onClick:o,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999}}),(0,r.jsxs)("aside",{className:"doctor-sidebar ".concat(e?"active":""),children:[(0,r.jsxs)("div",{className:"sidebar-brand",children:[(0,r.jsx)(d.K7y,{})," MediCare Doctor"]}),(0,r.jsxs)("ul",{className:"sidebar-menu",children:[(0,r.jsx)("li",{className:"sidebar-menu-item",children:(0,r.jsxs)(n.rU,{to:"/",className:"sidebar-menu-link ".concat(t("/")),onClick:o,children:[(0,r.jsx)("span",{className:"sidebar-menu-icon",children:(0,r.jsx)(d.xng,{})}),(0,r.jsx)("span",{children:"Home"})]})}),(0,r.jsx)("li",{className:"sidebar-menu-item",children:(0,r.jsxs)(n.rU,{to:"/appointments",className:"sidebar-menu-link ".concat(t("/appointments")),onClick:o,children:[(0,r.jsx)("span",{className:"sidebar-menu-icon",children:(0,r.jsx)(d.XdU,{})}),(0,r.jsx)("span",{children:"Appointments"})]})}),(0,r.jsx)("li",{className:"sidebar-menu-item",children:(0,r.jsxs)(n.rU,{to:"/notifications",className:"sidebar-menu-link ".concat(t("/notifications")),onClick:o,children:[(0,r.jsx)("span",{className:"sidebar-menu-icon",children:(0,r.jsx)(d.Z3q,{})}),(0,r.jsx)("span",{children:"Notifications"})]})}),(0,r.jsx)("li",{className:"sidebar-menu-item",children:(0,r.jsxs)(n.rU,{to:"/profile",className:"sidebar-menu-link ".concat(t("/profile")),onClick:o,children:[(0,r.jsx)("span",{className:"sidebar-menu-icon",children:(0,r.jsx)(d.Xws,{})}),(0,r.jsx)("span",{children:"Profile"})]})}),(0,r.jsx)("li",{className:"sidebar-menu-item",children:(0,r.jsxs)(n.rU,{to:"/changepassword",className:"sidebar-menu-link ".concat(t("/changepassword")),onClick:o,children:[(0,r.jsx)("span",{className:"sidebar-menu-icon",children:(0,r.jsx)(d.kUi,{})}),(0,r.jsx)("span",{children:"Change Password"})]})})]}),(0,r.jsx)("div",{className:"sidebar-logout",children:(0,r.jsxs)("button",{className:"logout-btn",onClick:()=>{localStorage.removeItem("token"),a("/login")},children:[(0,r.jsx)(d.fHX,{})," Logout"]})})]})]})}},564:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var l=a(2791),i=a(9434),n=a(6087),d=a(4971),r=a(5318),c=a(3200),t=a(5218),o=a(456),m=a(3263),h=a(6355),x=(a(7260),a(184));m.Z.defaults.baseURL="http://localhost:5016/api";const j=()=>{const[e,s]=(0,l.useState)([]),[a,j]=(0,l.useState)(""),p=(0,i.I0)(),{loading:u}=(0,i.v9)((e=>e.root)),{userId:v}=(0,o.Z)(localStorage.getItem("token")),N=async()=>{try{p((0,r.K4)(!0));const e=await(0,d.Z)("/appointment/getallappointments?doctorId=".concat(v));s(Array.isArray(e)?e.filter((e=>"Completed"!==e.status)):[]),p((0,r.K4)(!1))}catch(e){p((0,r.K4)(!1)),console.error("Error fetching appointments:",e),t.Am.error("Failed to fetch appointments. Please try again."),s([])}};(0,l.useEffect)((()=>{N()}),[]);const b=e.filter((e=>{var s,l,i,n,d,r;return(null===(s=e.userId)||void 0===s||null===(l=s.firstname)||void 0===l?void 0:l.toLowerCase().includes(a.toLowerCase()))||(null===(i=e.userId)||void 0===i||null===(n=i.lastname)||void 0===n?void 0:n.toLowerCase().includes(a.toLowerCase()))||(null===(d=e.userId)||void 0===d||null===(r=d.email)||void 0===r?void 0:r.toLowerCase().includes(a.toLowerCase()))})),g=async e=>{try{await m.Z.put("/appointment/completed",{appointid:e._id,doctorId:e.doctorId._id,doctorname:"".concat(e.doctorId.firstname," ").concat(e.doctorId.lastname)},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t.Am.success("Appointment marked as completed."),N()}catch(s){console.error("Error completing appointment:",s),t.Am.error("Failed to complete appointment. Please try again.")}};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"doctor-layout",children:[(0,x.jsx)(n.Z,{}),u?(0,x.jsxs)("div",{className:"doctor-main",children:[(0,x.jsx)("div",{className:"doctor-header",children:(0,x.jsx)("div",{className:"header-title",children:"Loading..."})}),(0,x.jsx)("div",{className:"doctor-content",children:(0,x.jsx)(c.Z,{})})]}):(0,x.jsxs)("div",{className:"doctor-main",children:[(0,x.jsx)("div",{className:"doctor-header",children:(0,x.jsx)("div",{className:"header-title",children:"\ud83d\udcc5 Your Appointments"})}),(0,x.jsx)("div",{className:"doctor-content",children:(0,x.jsxs)("div",{className:"data-section",children:[(0,x.jsxs)("div",{className:"section-header",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"section-title",children:"Pending Appointments"}),(0,x.jsxs)("div",{style:{color:"var(--text-light)",fontSize:"0.9rem",marginTop:"5px"},children:["Total: ",Array.isArray(e)?e.length:0]})]}),(0,x.jsx)("input",{type:"text",placeholder:"Search by patient name or email",value:a,onChange:e=>j(e.target.value),style:{padding:"10px 15px",border:"1px solid var(--border-color)",borderRadius:"6px",width:"250px",fontSize:"0.95rem"}})]}),Array.isArray(e)&&e.length>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"data-table-wrapper",children:(0,x.jsxs)("table",{className:"data-table",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Patient"}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"Phone"}),(0,x.jsx)("th",{children:"Age"}),(0,x.jsx)("th",{children:"Gender"}),(0,x.jsx)("th",{children:"Blood Group"}),(0,x.jsx)("th",{children:"Date"}),(0,x.jsx)("th",{children:"Status"}),(0,x.jsx)("th",{children:"Action"})]})}),(0,x.jsx)("tbody",{children:b.map((e=>{var s,a,l;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsxs)("strong",{children:[null===(s=e.userId)||void 0===s?void 0:s.firstname," ",null===(a=e.userId)||void 0===a?void 0:a.lastname]})}),(0,x.jsx)("td",{children:null===(l=e.userId)||void 0===l?void 0:l.email}),(0,x.jsx)("td",{children:e.number}),(0,x.jsx)("td",{children:e.age}),(0,x.jsx)("td",{children:e.gender}),(0,x.jsx)("td",{children:e.bloodGroup}),(0,x.jsx)("td",{children:e.date}),(0,x.jsx)("td",{children:(0,x.jsxs)("span",{className:"status-badge status-pending",children:[(0,x.jsx)(h.qyc,{style:{marginRight:"5px"}}),"Pending"]})}),(0,x.jsx)("td",{children:(0,x.jsxs)("button",{className:"btn btn-success",onClick:()=>g(e),style:{fontSize:"0.85rem",padding:"6px 12px"},children:[(0,x.jsx)(h.FJM,{})," Complete"]})})]},e._id)}))})]})}),(0,x.jsx)("div",{style:{display:"none"},className:"mobile-view",children:b.map((e=>{var s,a,l;return(0,x.jsxs)("div",{className:"mobile-card",children:[(0,x.jsxs)("div",{className:"card-field",children:[(0,x.jsxs)("span",{className:"card-field-label",children:[(0,x.jsx)(h.Xws,{})," Patient Name"]}),(0,x.jsxs)("span",{className:"card-field-value",children:[null===(s=e.userId)||void 0===s?void 0:s.firstname," ",null===(a=e.userId)||void 0===a?void 0:a.lastname]})]}),(0,x.jsxs)("div",{className:"card-field",children:[(0,x.jsx)("span",{className:"card-field-label",children:"Email"}),(0,x.jsx)("span",{className:"card-field-value",children:null===(l=e.userId)||void 0===l?void 0:l.email})]}),(0,x.jsxs)("div",{className:"card-field",children:[(0,x.jsxs)("span",{className:"card-field-label",children:[(0,x.jsx)(h.I7T,{})," Phone"]}),(0,x.jsx)("span",{className:"card-field-value",children:e.number})]}),(0,x.jsxs)("div",{className:"card-field",children:[(0,x.jsx)("span",{className:"card-field-label",children:"Age"}),(0,x.jsx)("span",{className:"card-field-value",children:e.age})]}),(0,x.jsxs)("div",{className:"card-field",children:[(0,x.jsx)("span",{className:"card-field-label",children:"Gender"}),(0,x.jsx)("span",{className:"card-field-value",children:e.gender})]}),(0,x.jsxs)("div",{className:"card-field",children:[(0,x.jsx)("span",{className:"card-field-label",children:"Blood Group"}),(0,x.jsx)("span",{className:"card-field-value",children:e.bloodGroup})]}),(0,x.jsxs)("div",{className:"card-field",children:[(0,x.jsxs)("span",{className:"card-field-label",children:[(0,x.jsx)(h.XdU,{})," Date"]}),(0,x.jsx)("span",{className:"card-field-value",children:e.date})]}),(0,x.jsxs)("div",{className:"card-field",children:[(0,x.jsx)("span",{className:"card-field-label",children:"Status"}),(0,x.jsx)("span",{className:"card-field-value",children:(0,x.jsx)("span",{className:"status-badge status-pending",children:"Pending"})})]}),(0,x.jsx)("div",{style:{marginTop:"15px"},children:(0,x.jsxs)("button",{className:"btn btn-success",onClick:()=>g(e),style:{width:"100%"},children:[(0,x.jsx)(h.FJM,{})," Mark as Completed"]})})]},e._id)}))})]}):(0,x.jsxs)("div",{className:"empty-state",children:[(0,x.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udccb"}),(0,x.jsx)("div",{className:"empty-state-text",children:"No pending appointments found"}),(0,x.jsx)("div",{style:{color:"var(--text-light)",fontSize:"0.9rem",marginTop:"10px"},children:"You can check back later for new appointments"})]})]})})]})]})})}},7260:()=>{}}]);
//# sourceMappingURL=564.2b95015d.chunk.js.map