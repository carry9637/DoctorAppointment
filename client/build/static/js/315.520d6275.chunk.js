"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[315],{6087:(e,s,a)=>{a.d(s,{Z:()=>o});var r=a(2791),l=a(7689),n=a(1087),i=a(6355),t=(a(7260),a(184));const o=()=>{const[e,s]=(0,r.useState)(!1),a=(0,l.s0)(),o=(0,l.TH)(),d=e=>o.pathname===e?"active":"",c=()=>{s(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{className:"doctor-toggle-btn",onClick:()=>{s(!e)},children:e?(0,t.jsx)(i.aHS,{}):(0,t.jsx)(i.Fm7,{})}),e&&(0,t.jsx)("div",{className:"sidebar-overlay",onClick:c,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999}}),(0,t.jsxs)("aside",{className:"doctor-sidebar ".concat(e?"active":""),children:[(0,t.jsxs)("div",{className:"sidebar-brand",children:[(0,t.jsx)(i.K7y,{})," MediCare Doctor"]}),(0,t.jsxs)("ul",{className:"sidebar-menu",children:[(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(n.rU,{to:"/",className:"sidebar-menu-link ".concat(d("/")),onClick:c,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.xng,{})}),(0,t.jsx)("span",{children:"Home"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(n.rU,{to:"/appointments",className:"sidebar-menu-link ".concat(d("/appointments")),onClick:c,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.XdU,{})}),(0,t.jsx)("span",{children:"Appointments"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(n.rU,{to:"/notifications",className:"sidebar-menu-link ".concat(d("/notifications")),onClick:c,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.Z3q,{})}),(0,t.jsx)("span",{children:"Notifications"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(n.rU,{to:"/profile",className:"sidebar-menu-link ".concat(d("/profile")),onClick:c,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.Xws,{})}),(0,t.jsx)("span",{children:"Profile"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(n.rU,{to:"/changepassword",className:"sidebar-menu-link ".concat(d("/changepassword")),onClick:c,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(i.kUi,{})}),(0,t.jsx)("span",{children:"Change Password"})]})})]}),(0,t.jsx)("div",{className:"sidebar-logout",children:(0,t.jsxs)("button",{className:"logout-btn",onClick:()=>{localStorage.removeItem("token"),a("/login")},children:[(0,t.jsx)(i.fHX,{})," Logout"]})})]})]})}},315:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var r=a(3063),l=a(2791),n=(a(7260),a(6087)),i=a(3263),t=a(5218),o=a(5318),d=a(9434),c=a(3200),m=a(4971),p=a(456),h=a(184);i.Z.defaults.baseURL="http://localhost:5016/api";const x=function(){const{userId:e}=(0,p.Z)(localStorage.getItem("token")),s=(0,d.I0)(),{loading:a}=(0,d.v9)((e=>e.root)),[x,u]=(0,l.useState)(""),[g,j]=(0,l.useState)({firstname:"",lastname:"",email:"",age:"",mobile:"",gender:"neither",address:"",password:"",confpassword:""}),b=async()=>{try{s((0,o.K4)(!0));const a=await(0,m.Z)("/user/getuser/".concat(e));j((0,r.Z)((0,r.Z)({},a),{},{password:"",confpassword:"",mobile:null===a.mobile?"":a.mobile,age:null===a.age?"":a.age})),u(a.pic),s((0,o.K4)(!1))}catch(a){s((0,o.K4)(!1)),t.ZP.error("Failed to load profile")}};(0,l.useEffect)((()=>{b()}),[s]);const f=e=>{const{name:s,value:a}=e.target;return j((0,r.Z)((0,r.Z)({},g),{},{[s]:a}))};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"doctor-layout",children:[(0,h.jsx)(n.Z,{}),a?(0,h.jsxs)("div",{className:"doctor-main",children:[(0,h.jsx)("div",{className:"doctor-header",children:(0,h.jsx)("div",{className:"header-title",children:"Loading..."})}),(0,h.jsx)("div",{className:"doctor-content",children:(0,h.jsx)(c.Z,{})})]}):(0,h.jsxs)("div",{className:"doctor-main",children:[(0,h.jsx)("div",{className:"doctor-header",children:(0,h.jsx)("div",{className:"header-title",children:"\ud83d\udc64 My Profile"})}),(0,h.jsx)("div",{className:"doctor-content",children:(0,h.jsxs)("div",{className:"data-section",style:{maxWidth:"700px"},children:[(0,h.jsx)("div",{className:"section-header",style:{marginBottom:"30px"},children:(0,h.jsx)("div",{className:"section-title",children:"Update Your Information"})}),(0,h.jsx)("div",{style:{textAlign:"center",marginBottom:"30px"},children:(0,h.jsx)("img",{src:x,alt:"profile",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid var(--primary)"}})}),(0,h.jsxs)("form",{onSubmit:async e=>{try{e.preventDefault();const{firstname:s,lastname:a,email:l,age:n,mobile:o,address:d,gender:c,password:m,confpassword:p}=g;if(!l)return t.ZP.error("Email should not be empty");if(s.length<3)return t.ZP.error("First name must be at least 3 characters long");if(a.length<3)return t.ZP.error("Last name must be at least 3 characters long");if(m&&m.length<5)return t.ZP.error("Password must be at least 5 characters long");if(m!==p)return t.ZP.error("Passwords do not match");await t.ZP.promise(i.Z.put("/user/updateprofile",(0,r.Z)({firstname:s,lastname:a,age:n,mobile:o,address:d,gender:c,email:l},m&&{password:m}),{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}),{pending:"Updating profile...",success:"Profile updated successfully",error:"Unable to update profile"}),j((0,r.Z)((0,r.Z)({},g),{},{password:"",confpassword:""}))}catch(s){return t.ZP.error("Unable to update profile")}},children:[(0,h.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[(0,h.jsxs)("div",{className:"filter-group",children:[(0,h.jsx)("label",{htmlFor:"firstname",children:"First Name"}),(0,h.jsx)("input",{type:"text",id:"firstname",name:"firstname",placeholder:"Enter your first name",value:g.firstname,onChange:f,required:!0})]}),(0,h.jsxs)("div",{className:"filter-group",children:[(0,h.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),(0,h.jsx)("input",{type:"text",id:"lastname",name:"lastname",placeholder:"Enter your last name",value:g.lastname,onChange:f,required:!0})]})]}),(0,h.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[(0,h.jsxs)("div",{className:"filter-group",children:[(0,h.jsx)("label",{htmlFor:"email",children:"Email"}),(0,h.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:g.email,onChange:f,required:!0})]}),(0,h.jsxs)("div",{className:"filter-group",children:[(0,h.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,h.jsxs)("select",{id:"gender",name:"gender",value:g.gender,onChange:f,children:[(0,h.jsx)("option",{value:"neither",children:"Prefer not to say"}),(0,h.jsx)("option",{value:"male",children:"Male"}),(0,h.jsx)("option",{value:"female",children:"Female"})]})]})]}),(0,h.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[(0,h.jsxs)("div",{className:"filter-group",children:[(0,h.jsx)("label",{htmlFor:"age",children:"Age"}),(0,h.jsx)("input",{type:"number",id:"age",name:"age",placeholder:"Enter your age",value:g.age,onChange:f})]}),(0,h.jsxs)("div",{className:"filter-group",children:[(0,h.jsx)("label",{htmlFor:"mobile",children:"Mobile Number"}),(0,h.jsx)("input",{type:"text",id:"mobile",name:"mobile",placeholder:"Enter your mobile number",value:g.mobile,onChange:f})]})]}),(0,h.jsxs)("div",{className:"filter-group",children:[(0,h.jsx)("label",{htmlFor:"address",children:"Address"}),(0,h.jsx)("textarea",{id:"address",name:"address",placeholder:"Enter your address",value:g.address,onChange:f,rows:"3"})]}),(0,h.jsxs)("div",{style:{marginTop:"30px",paddingTop:"20px",borderTop:"2px solid var(--border-color)"},children:[(0,h.jsx)("div",{style:{fontSize:"1rem",fontWeight:600,color:"var(--text-dark)",marginBottom:"15px"},children:"\ud83d\udd10 Change Password (Optional)"}),(0,h.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[(0,h.jsxs)("div",{className:"filter-group",children:[(0,h.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,h.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Leave empty to keep current password",value:g.password,onChange:f})]}),(0,h.jsxs)("div",{className:"filter-group",children:[(0,h.jsx)("label",{htmlFor:"confpassword",children:"Confirm Password"}),(0,h.jsx)("input",{type:"password",id:"confpassword",name:"confpassword",placeholder:"Confirm your new password",value:g.confpassword,onChange:f})]})]})]}),(0,h.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-start",marginTop:"30px"},children:[(0,h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\ud83d\udcbe Update Profile"}),(0,h.jsx)("button",{type:"button",className:"btn",style:{background:"var(--border-color)",color:"var(--text-dark)"},onClick:()=>b(),children:"Reset"})]})]})]})})]})]})})}},7260:()=>{}}]);
//# sourceMappingURL=315.520d6275.chunk.js.map