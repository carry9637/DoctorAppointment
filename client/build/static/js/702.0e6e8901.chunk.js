"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[702],{6087:(e,s,a)=>{a.d(s,{Z:()=>o});var i=a(2791),n=a(7689),l=a(1087),r=a(6355),t=(a(7260),a(184));const o=()=>{const[e,s]=(0,i.useState)(!1),a=(0,n.s0)(),o=(0,n.TH)(),c=e=>o.pathname===e?"active":"",d=()=>{s(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{className:"doctor-toggle-btn",onClick:()=>{s(!e)},children:e?(0,t.jsx)(r.aHS,{}):(0,t.jsx)(r.Fm7,{})}),e&&(0,t.jsx)("div",{className:"sidebar-overlay",onClick:d,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999}}),(0,t.jsxs)("aside",{className:"doctor-sidebar ".concat(e?"active":""),children:[(0,t.jsxs)("div",{className:"sidebar-brand",children:[(0,t.jsx)(r.K7y,{})," MediCare Doctor"]}),(0,t.jsxs)("ul",{className:"sidebar-menu",children:[(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(l.rU,{to:"/",className:"sidebar-menu-link ".concat(c("/")),onClick:d,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(r.xng,{})}),(0,t.jsx)("span",{children:"Home"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(l.rU,{to:"/appointments",className:"sidebar-menu-link ".concat(c("/appointments")),onClick:d,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(r.XdU,{})}),(0,t.jsx)("span",{children:"Appointments"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(l.rU,{to:"/notifications",className:"sidebar-menu-link ".concat(c("/notifications")),onClick:d,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(r.Z3q,{})}),(0,t.jsx)("span",{children:"Notifications"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(l.rU,{to:"/profile",className:"sidebar-menu-link ".concat(c("/profile")),onClick:d,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(r.Xws,{})}),(0,t.jsx)("span",{children:"Profile"})]})}),(0,t.jsx)("li",{className:"sidebar-menu-item",children:(0,t.jsxs)(l.rU,{to:"/changepassword",className:"sidebar-menu-link ".concat(c("/changepassword")),onClick:d,children:[(0,t.jsx)("span",{className:"sidebar-menu-icon",children:(0,t.jsx)(r.kUi,{})}),(0,t.jsx)("span",{children:"Change Password"})]})})]}),(0,t.jsx)("div",{className:"sidebar-logout",children:(0,t.jsxs)("button",{className:"logout-btn",onClick:()=>{localStorage.removeItem("token"),a("/login")},children:[(0,t.jsx)(r.fHX,{})," Logout"]})})]})]})}},3702:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var i=a(3063),n=a(2791),l=a(9434),r=a(6087),t=a(5318),o=a(3200),c=a(5218),d=a(3263),m=a(6355),p=(a(7260),a(184));d.Z.defaults.baseURL="http://localhost:5016/api";const x=()=>{const e=(0,l.I0)(),{loading:s}=(0,l.v9)((e=>e.root)),[a,x]=(0,n.useState)({specialization:"",experience:"",fees:""}),[u,h]=(0,n.useState)(null),j=async()=>{try{e((0,t.K4)(!0));const s=await d.Z.get("/doctor/getmydoctorprofile",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s.data&&(h(s.data),x({specialization:s.data.specialization||"",experience:s.data.experience||"",fees:s.data.fees||""})),e((0,t.K4)(!1))}catch(s){e((0,t.K4)(!1)),console.log("No existing application")}};(0,n.useEffect)((()=>{j()}),[]);const g=e=>{const{name:s,value:n}=e.target;return x((0,i.Z)((0,i.Z)({},a),{},{[s]:n}))};return s?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"doctor-layout",children:[(0,p.jsx)(r.Z,{}),(0,p.jsx)("div",{className:"doctor-main",children:(0,p.jsx)(o.Z,{})})]})}):(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"doctor-layout",children:[(0,p.jsx)(r.Z,{}),(0,p.jsxs)("div",{className:"doctor-main",children:[(0,p.jsx)("div",{className:"doctor-header",children:(0,p.jsxs)("div",{className:"header-title",children:[(0,p.jsx)(m.K7y,{})," Apply for Doctor"]})}),(0,p.jsx)("div",{className:"doctor-content",children:(0,p.jsxs)("div",{className:"data-section",children:[(0,p.jsx)("div",{className:"section-header",style:{borderBottom:"2px solid var(--border-color)",marginBottom:"20px"},children:(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,p.jsx)(m.W95,{style:{color:"var(--primary)",fontSize:"1.8rem"}}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"section-title",children:"Application Details"}),(0,p.jsx)("div",{style:{fontSize:"0.9rem",color:"var(--text-light)",marginTop:"5px"},children:"Fill or update your medical credentials"})]})]})}),(0,p.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),a.specialization&&a.experience&&a.fees)try{e((0,t.K4)(!0)),u?(await d.Z.put("/doctor/updatedoctorprofile",a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),c.Am.success("Doctor profile updated successfully")):(await d.Z.post("/doctor/applyfordoctor",a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),c.Am.success("Doctor application sent successfully")),await j(),e((0,t.K4)(!1))}catch(l){var i,n;e((0,t.K4)(!1)),console.error("Error details:",(null===(i=l.response)||void 0===i?void 0:i.data)||l.message);const s=(null===(n=l.response)||void 0===n?void 0:n.data)||l.message||"Unable to process application";c.Am.error(s)}else c.Am.error("Please fill all required fields")},className:"form-group",children:[(0,p.jsxs)("div",{className:"filter-group",children:[(0,p.jsx)("label",{children:"Specialization *"}),(0,p.jsx)("input",{type:"text",name:"specialization",placeholder:"e.g., Cardiology, Dermatology",value:a.specialization,onChange:g,required:!0})]}),(0,p.jsxs)("div",{className:"filter-group",children:[(0,p.jsx)("label",{children:"Years of Experience *"}),(0,p.jsx)("input",{type:"number",name:"experience",placeholder:"e.g., 5",min:"0",max:"60",value:a.experience,onChange:g,required:!0})]}),(0,p.jsxs)("div",{className:"filter-group",children:[(0,p.jsx)("label",{children:"Consultation Fees (\u20b9) *"}),(0,p.jsx)("input",{type:"number",name:"fees",placeholder:"e.g., 500",min:"0",value:a.fees,onChange:g,required:!0})]}),(0,p.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[(0,p.jsxs)("button",{type:"submit",className:"btn btn-primary",style:{flex:1},children:[(0,p.jsx)(m.W95,{})," ",u?"Update Application":"Submit Application"]}),(0,p.jsx)("button",{type:"button",className:"btn",style:{flex:1,background:"var(--border-color)",color:"var(--text-dark)"},onClick:()=>x({specialization:"",experience:"",fees:""}),children:"Reset"})]})]})]})})]})]})})}},7260:()=>{}}]);
//# sourceMappingURL=702.0e6e8901.chunk.js.map